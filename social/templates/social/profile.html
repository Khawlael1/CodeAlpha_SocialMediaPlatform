<!DOCTYPE html>
<html>
<head>
    <title>{{ profile.user.username }}'s Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

<div class="card shadow-lg p-4">
    
  <h2>@{{ profile.user.username }}</h2>
  <p>{{ profile.bio }}</p>

  {% if user != profile.user %}
        <form action="{% url 'toggle_follow' profile.user.username %}" method="post">
            {% csrf_token %}
            {% if is_following %}
                <button class="btn btn-danger">Unfollow</button>
            {% else %}
                <button class="btn btn-primary">Follow</button>
            {% endif %}
        </form>
  {% endif %}


  <hr>
  <p><strong>Followers:</strong> {{ profile.user.followers.count }}</p>
  <p><strong>Following:</strong> {{ profile.user.following.count }}</p>
</div>

{% if user == profile.user %}
    <a href="{% url 'edit_profile' %}" class="btn btn-secondary mt-3">Edit Profile</a>
{% endif %}

</body>
</html>
