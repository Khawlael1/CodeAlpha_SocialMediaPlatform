{% load static %}
<link rel="stylesheet" href="{% static 'social/css/profile.css' %}">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ profile.user.username }}'s Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
   
</head>
<body>

<div class="profile-card">
    <img src="{{ profile.avatar.url }}" alt="{{ profile.user.username }}'s avatar">
    
    <h2>@{{ profile.user.username }}</h2>
    <p>{{ profile.bio }}</p>

    {% if user != profile.user %}
        <form action="{% url 'toggle_follow' profile.user.username %}" method="post">
            {% csrf_token %}
            {% if is_following %}
                <button class="btn btn-follow unfollow">Unfollow</button>
            {% else %}
                <button class="btn btn-follow follow">Follow</button>
            {% endif %}
        </form>
    {% endif %}


    <div class="stats">
        <p><strong>Followers:</strong> {{ profile.user.followers.count }}</p>
        <p><strong>Following:</strong> {{ profile.user.following.count }}</p>
    </div>

    {% if user == profile.user %}
        <a href="{% url 'edit_profile' %}" class="btn btn-secondary edit-btn">Edit Profile</a>
    {% endif %}
</div>

</body>
</html>
